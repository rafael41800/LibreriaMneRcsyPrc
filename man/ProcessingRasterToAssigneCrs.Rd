% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/02_ProcessingRasterToAssigneCrs_function.R
\name{ProcessingRasterToAssigneCrs}
\alias{ProcessingRasterToAssigneCrs}
\title{Asignar CRS y procesar raster
Assign CRS and process raster}
\usage{
ProcessingRasterToAssigneCrs(RasterObject, SpatialReference)
}
\arguments{
\item{RasterObject}{Objeto raster al que asignaremos coordenadas de referencia del sistema / Raster object to which we will assign coordinate reference system.}

\item{SpatialReference}{Referencia espacial de la que tomaremos el CRS. Puede ser: / Spatial reference from which we will take the CRS. Can be:
\itemize{
\item{Objeto espacial (sf, sfc, SpatVector) - Se usara su CRS y se recortara el raster al area del poligono / Spatial object - Its CRS will be used and the raster will be cropped to the polygon area}
\item{CRS como caracter o numerico (ej: "EPSG:4326" o 4326) - Solo se proyectara el raster / CRS as character or numeric (e.g., "EPSG:4326" or 4326) - Only raster projection will be applied}
}}
}
\value{
Un objeto \code{SpatRaster} procesado que puede ser: / A processed \code{SpatRaster} object that can be:
\itemize{
\item{Proyectado al CRS especificado / Projected to the specified CRS}
\item{Proyectado y recortado al area del poligono (si \code{SpatialReference} es un objeto espacial) / Projected and cropped to the polygon area (if \code{SpatialReference} is a spatial object)}
}
}
\description{
Asignar CRS y procesar raster
Assign CRS and process raster
}
\details{
Esta funcion realiza las siguientes operaciones:
\enumerate{
\item Configura el directorio temporal para manejo eficiente de memoria
\item Valida que el objeto de entrada sea un \code{SpatRaster}
\item Detecta el tipo de referencia espacial proporcionada
\item Proyecta el raster al CRS de referencia
\item Si la referencia es un objeto espacial (poligono), recorta el raster al area del poligono usando \code{mask = TRUE}
}
}
\note{
La funcion utiliza \code{terra::crop()} con \code{mask = TRUE} cuando se proporciona un poligono,
lo que asegura que solo las celdas dentro del poligono sean retenidas, estableciendo
las celdas externas a NA. Esto es mas eficiente que hacer crop y mask por separado.
}
\examples{
\dontrun{
# Ejemplo 1: Proyectar raster usando un CRS numerico
# Example 1: Project raster using a numeric CRS
library(terra)

# Crear un raster de ejemplo
# Create example raster
r <- rast(nrows=100, ncols=100, xmin=0, xmax=10, ymin=0, ymax=10)
values(r) <- runif(ncell(r))

# Proyectar a WGS84 (EPSG:4326)
# Project to WGS84 (EPSG:4326)
raster_proyectado <- ProcessingRasterToAssigneCrs(r, 4326)
print(raster_proyectado)

# Ejemplo 2: Proyectar y recortar usando un poligono
# Example 2: Project and crop using a polygon
library(sf)

# Crear un poligono de ejemplo
# Create example polygon
poligono <- st_as_sfc("POLYGON((2 2, 8 2, 8 8, 2 8, 2 2))", crs = 4326)

# Proyectar y recortar el raster
# Project and crop the raster
raster_recortado <- ProcessingRasterToAssigneCrs(r, poligono)
print(raster_recortado)

# Visualizar resultados
# Visualize results
plot(raster_recortado)
plot(st_geometry(poligono), add = TRUE, border = "red", lwd = 2)

# Ejemplo 3: Usar un objeto SpatVector como referencia
# Example 3: Use a SpatVector object as reference
vect_ref <- as(poligono, "SpatVector")
raster_vect <- ProcessingRasterToAssigneCrs(r, vect_ref)
print(raster_vect)

# Ejemplo 4: Usar CRS como texto
# Example 4: Use CRS as text
raster_text <- ProcessingRasterToAssigneCrs(r, "EPSG:4326")
print(raster_text)
}

}
